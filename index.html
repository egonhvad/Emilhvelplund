<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <!-- Viewport for responsiveness -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Emil Hvelplund</title>
  <link rel="stylesheet" href="style.css">
</head>

<body>

  <!-- Top Navigation -->
  <div class="top-nav-left">
    <span>Emil Hveplund Kristiansen</span>
  </div>
  <div class="top-nav">
    <a href="about.html">About</a>
  </div>

  <div class="grid-container">





    <!-- 3. Læsø Seaweed Houses (Row E: Text Col 1, Media Col 2) - SHIFTED FAR LEFT -->
    <div class="project-row row-e">
      <div class="text-block">
        <h2><a href="#" class="popup-trigger" onclick="openOverlay([
          'Images/TP23_03_Seaweed at Hand.jpg',
          'Images/TP23_03_Seaweed at Hand__Page_2.jpg',
          'Images/TP23_03_Seaweed at Hand__Page_3.jpg',
          'Images/33_6271_12.jpg', 
          'Images/19_6271_03.jpg', 
          'Images/10_6266_13.jpg'
          ], [
          'Seaweed at hand. Article by Emil Hvelplund Kristiansen, Images by Johanna Hvidtved. Plant Magazine issue 33', 
          'Seaweed at hand. Article by Emil Hvelplund Kristiansen, Images by Johanna Hvidtved. Plant Magazine issue 33', 
          'Seaweed at hand. Article by Emil Hvelplund Kristiansen, Images by Johanna Hvidtved. Plant Magazine issue 33', 
          'Læsø Seaweed Houses, Image by Johanna Hvidtvet', 
          'Læsø Seaweed Houses, Image by Johanna Hvidtvet', 
          'Læsø Seaweed Houses, Image by Johanna Hvidtvet'
          ]); return false;" style="text-decoration: underline;">Læsø seaweed houses</a></h2>
        <p>
          Article in Plant Magazine<br>
          Pictures by Johanna Hvidtved<br><br>
          <em>Women were gatherers, using the beaches as their resource chambers. By collecting, unraveling, twisting,
            and
            binding, the eelgrass, which otherwise lay unused on the island’s shores, became part of the building
            structure.</em>
        </p>
        <p>
          <em>The buildings emerged from the landscape and, in this way, also became part of it.</em>
        </p>
      </div>
      <div class="media-block">
        <a href="#" class="img-link popup-trigger" onclick="openOverlay([
          'Images/TP23_03_Seaweed at Hand.jpg',
          'Images/TP23_03_Seaweed at Hand__Page_2.jpg',
          'Images/TP23_03_Seaweed at Hand__Page_3.jpg',
          'Images/33_6271_12.jpg', 
          'Images/19_6271_03.jpg', 
          'Images/10_6266_13.jpg'
          ], [
          'Seaweed at hand. Article by Emil Hvelplund Kristiansen, Images by Johanna Hvidtved. Plant Magazine issue 33', 
          'Seaweed at hand. Article by Emil Hvelplund Kristiansen, Images by Johanna Hvidtved. Plant Magazine issue 33', 
          'Seaweed at hand. Article by Emil Hvelplund Kristiansen, Images by Johanna Hvidtved. Plant Magazine issue 33', 
          'Læsø Seaweed Houses, Image by Johanna Hvidtvet', 
          'Læsø Seaweed Houses, Image by Johanna Hvidtvet', 
          'Læsø Seaweed Houses, Image by Johanna Hvidtvet'
          ]); return false;">
          <div class="img-wrapper">
            <img src="Images/33_6271_12.jpg" alt="Læsø seaweed houses">
            <div class="img-overlay">Læsø seaweed houses</div>
          </div>
        </a>
      </div>
    </div>

    <!-- Force Grid New Row -->
    <div style="grid-column: 1 / -1;"></div>

    <!-- 4. Daniel Libeskind -->
    <div class="project-row row-span-middle-right">
      <div class="text-block">
        <p>Setdesign for Daniel Libeskind.<br>Film by Michael Madsen</p>
      </div>
      <div class="media-block">
        <a href="#" class="img-link popup-trigger"
          onclick="openOverlay(['Images/DL_rendering.jpg'], 'Daniel Libeskind Film'); return false;">
          <div class="img-wrapper">
            <img src="Images/DL_rendering.jpg" alt="Daniel Libeskind Film">
            <div class="img-overlay">Daniel Libeskind</div>
          </div>
        </a>
      </div>
    </div>

    <!-- 4 & 5. Combined Split Row (Left Media, Center Text, Right Media) -->
    <div class="project-row row-split">

      <!-- Left Media: Palazzina -->
      <div class="media-block media-left">
        <a href="https://palazzina.ch/index.php/layout/exhibition/inauguration" target="_blank" rel="noopener"
          class="img-link">
          <div class="img-wrapper">
            <img src="Images/onfoot.jpg" alt="Palazzina 'On foot'">
            <div class="img-overlay">Palazzina "On foot"</div>
          </div>
        </a>
      </div>

      <!-- Center Text: Palazzina text only -->
      <div class="text-block text-center">
        <div style="text-align: left;">
          <h2><a href="https://palazzina.ch/index.php/layout/exhibition/inauguration" target="_blank"
              rel="noopener">Palazzina</a></h2>
          <p><a href="https://palazzina.ch/index.php/layout/exhibition/inauguration" target="_blank" rel="noopener">"On
              foot"</a></p>
          <p>
            <a href="https://palazzina.ch/index.php/layout/exhibition/inauguration" target="_blank" rel="noopener">View
              Exhibition</a>
          </p>
        </div>
      </div>

      <!-- Right Media: Moving Landscape Video -->
      <div class="media-block media-right">
        <div class="video-container">
          <iframe
            src="https://player.vimeo.com/video/879461077?badge=0&amp;autopause=0&amp;player_id=0&amp;app_id=58479"
            allow="autoplay; fullscreen; picture-in-picture" title="Til Bords"></iframe>
        </div>
        <script src="https://player.vimeo.com/api/player.js"></script>
      </div>

      <!-- Far Right Text: Moving Landscape -->
      <div class="text-block text-right">
        <h2><a href="https://vimeo.com/movinglandscape" target="_blank" rel="noopener">Moving Landscape</a></h2>
        <p>
          The moving landscape workshop deploys cinema as a medium for architectural inquiry.
        </p>
        <p>
          Exploring places through the lens and developing projects that are based on empirical and on-the-ground
          research.
        </p>
      </div>

    </div>

    <!-- 6. Finder Sted (Row Center: Col 3) -->
    <div class="project-row row-center">
      <div class="media-block">
        <a href="#" class="img-link">
          <div class="img-wrapper">
            <img src="Images/1til1_1.jpg" alt="Finder Sted | Taking Place">
            <div class="img-overlay">Finder Sted | Taking Place</div>
          </div>
        </a>
      </div>
      <div class="text-block">
        <h2>Finder Sted</h2>
        <p>Taking Place</p>
      </div>
    </div>

  </div>

  <!-- Fullscreen Image Overlay -->
  <div id="image-overlay" onclick="closeOverlay()">
    <a class="prev-btn" onclick="changeImage(-1, event)">&#10094;</a>
    <img class="overlay-content" id="overlay-img">
    <div id="overlay-text" class="overlay-content" style="display: none;"></div>
    <a class="next-btn" onclick="changeImage(1, event)">&#10095;</a>
    <div id="overlay-caption"></div>
  </div>

  <script>
    let currentImageIndex = 0;
    let currentImageGallery = [];
    let currentImageCaptions = [];

    function openOverlay(srcArray, captionOrArray) {
      document.getElementById("image-overlay").style.display = "block";

      // Handle single strings or arrays
      currentImageGallery = Array.isArray(srcArray) ? srcArray : [srcArray];
      currentImageCaptions = Array.isArray(captionOrArray) ? captionOrArray : [captionOrArray];
      currentImageIndex = 0;

      updateOverlayImage();

      // Add event listeners when opening
      document.addEventListener('keydown', handleEscKey);
      window.addEventListener('scroll', closeOverlay);

      // Show or hide arrows depending on gallery length
      const displayArrows = currentImageGallery.length > 1 ? "block" : "none";
      document.querySelector('.prev-btn').style.display = displayArrows;
      document.querySelector('.next-btn').style.display = displayArrows;
    }

    function updateOverlayImage() {
      const item = currentImageGallery[currentImageIndex];
      const imgEl = document.getElementById("overlay-img");
      const textEl = document.getElementById("overlay-text");

      if (typeof item === 'string' && item.startsWith("text:")) {
        imgEl.style.display = "none";
        textEl.style.display = "flex";
        textEl.innerHTML = item.substring(5);
      } else {
        imgEl.style.display = "block";
        textEl.style.display = "none";
        imgEl.src = item;
      }

      // Update caption (fallback to the first caption if the array is too short)
      const caption = currentImageCaptions[currentImageIndex] || currentImageCaptions[0] || "";
      document.getElementById("overlay-caption").innerText = caption;
    }

    function changeImage(step, event) {
      if (event) event.stopPropagation(); // prevent clicking next/prev from closing overlay
      currentImageIndex += step;

      // Wrap around logic
      if (currentImageIndex >= currentImageGallery.length) {
        currentImageIndex = 0;
      } else if (currentImageIndex < 0) {
        currentImageIndex = currentImageGallery.length - 1;
      }
      updateOverlayImage();
    }

    function closeOverlay() {
      document.getElementById("image-overlay").style.display = "none";
      // Remove event listeners when closing
      document.removeEventListener('keydown', handleEscKey);
      window.removeEventListener('scroll', closeOverlay);
    }

    function handleEscKey(event) {
      if (event.key === "Escape") {
        closeOverlay();
      } else if (event.key === "ArrowRight") {
        if (currentImageGallery.length > 1) changeImage(1);
      } else if (event.key === "ArrowLeft") {
        if (currentImageGallery.length > 1) changeImage(-1);
      }
    }

    // Prevent closing when clicking on the image itself
    document.getElementById("overlay-img").addEventListener('click', function (event) {
      event.stopPropagation();
    });
  </script>
</body>

</html>